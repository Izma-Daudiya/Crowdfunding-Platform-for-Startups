views.py

from django.contrib import messages
from django.shortcuts import render, redirect
from .models import *

# Create your views here.
def home(request):
    return render(request, "index.html")

def register(request):
    return render(request, "login-register.html")

def login(request):
    return render(request, "login.html")

def fetchregisterdata(request):
    # fetch
    username = request.POST.get("username")
    email = request.POST.get("email")
    phone = request.POST.get("phone")
    password = request.POST.get("password")

    # insert
    insert = Register(username=username, email=email, phone=phone, password=password)
    insert.save()

    return render(request, "login.html")

def checklogindata(request):
    email = request.POST.get("email")
    password = request.POST.get("password")

    # Select * from tablename where email=email and password=password
    try:
        userdata = Register.objects.get(email=email, password=password)

        # Session
        request.session["log_id"] = userdata.id
        request.session["log_username"] = userdata.username
        request.session["log_email"] = userdata.email
        # print("Success")
        # print(userdata)
    except:
        # print("Failure")
        userdata = None

    if userdata is not None:
        return render(request, "index.html")
    else:
        # print("Invalid email and password")
        messages.error(request, "Invalid email or password")

    return render(request, "login.html")


def logout(request):
    # Delete session
    del request.session["log_id"]
    del request.session["log_username"]
    del request.session["log_email"]

    return render(request, "login.html")

def page404(request):
    return render(request, "404.html")

def about(request):
    return render(request, "about.html")

def cart(request):
    return render(request, "cart.html")

def checkout(request):
    return render(request, "checkout.html")

def contact(request):
    return render(request, "contact.html")

def events(request):
    return render(request, "events.html")

def eventslist(request):
    return render(request, "events-list.html")
def eventscarousel(request):
    return render(request, "events-carousel.html")

def eventdetails(request):
    return render(request, "event-details.html")

def faq(request):
    return render(request, "faq.html")

def gallery(request):
    return render(request, "gallery.html")

def gallerycarousel(request):
    return render(request, "gallery-carousel.html")

def news(request):
    return render(request, "news.html")

def newscarousel(request):
    return render(request, "news-carousel.html")

def newsdetails(request):
    return render(request, "news-details.html")

def newssidebar(request):
    return render(request, "news-sidebar.html")

def partner(request):
    return render(request, "partner.html")

def productdetails(request):
    return render(request, "product-details.html")

def products(request):
    return render(request, "products.html")

def projects(request):
    return render(request, "project-02.html")

def projectcarousel(request):
    return render(request, "project-carousel.html")

def projectdetails(request):
    return render(request, "project-details.html")

def team(request):
    return render(request, "team.html")

def teamcarousel(request):
    return render(request, "team-carousel.html")

def testimonials(request):
    return render(request, "testimonials.html")

def testimonialscarousel(request):
    return render(request, "testimonials-carousel.html")


admin.py

from django.contrib import admin
from .models import *
# Register your models here.
class showRegisterData(admin.ModelAdmin):
    list_display = ["username", "email", "phone", "password"]

admin.site.register(Register, showRegisterData)


models.py

from django.db import models

# Create your models here.
class Register(models.Model):
    username = models.CharField(max_length=30)
    email = models.EmailField()
    phone = models.BigIntegerField()
    password = models.CharField(max_length=10)




